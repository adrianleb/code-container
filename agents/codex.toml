name = "codex"
description = "Codex CLI by OpenAI"
install_cmd = "npm install -g @openai/codex"
run_cmd = "codex"
version_cmd = "codex --version"
skip_permissions_flag = "--full-auto"
config_path = "/home/ccc/.codex"

[firewall]
domains = [
  # OpenAI API & Auth
  "api.openai.com",
  "auth.openai.com",
  "auth0.openai.com",
  "platform.openai.com",
  "cdn.openai.com",
  "chatgpt.com",
  # GitHub Copilot API (for copilot mode)
  "api.githubcopilot.com",
  # Package registries
  "registry.npmjs.org",
  "registry.npmmirror.com",
  "pypi.org",
  "files.pythonhosted.org",
  # Go packages
  "proxy.golang.org",
  "sum.golang.org",
  # Rust packages
  "crates.io",
  "static.crates.io",
  # Git hosting
  "github.com",
  "api.github.com",
  "raw.githubusercontent.com",
  "objects.githubusercontent.com",
  "codeload.github.com",
  "gitlab.com",
  "bitbucket.org",
]

[auth]
method = "oauth"
auth_cmd = "codex login --device-auth"
instructions = "Follow the device auth flow - a code will be displayed to enter at the OpenAI website. Requires ChatGPT Plus, Pro, Business, Edu, or Enterprise plan."
auth_check_files = ["auth.json", "config.json"]

[mcp]
config_path = ".codex/config.toml"
format = "codex"
# Note: Codex uses TOML format - MCP auto-injection not supported
# Configure manually via: codex mcp add <server>

[skills]
path = ".codex/skills"
format = "markdown"

[dockerfile]
snippet = """
# Install OpenAI Codex CLI
RUN npm install -g @openai/codex
"""
